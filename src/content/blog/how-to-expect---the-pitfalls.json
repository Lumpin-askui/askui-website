{
  "id": "how_to_expect___the_pitfalls",
  "slug": "how-to-expect---the-pitfalls",
  "title": "How to expect() - The Pitfalls",
  "excerpt": "Selecting elements visually is pretty cool and all. But once you start to build a serious workflow it is not enough. You also need: Checking if el....",
  "content": "<p id=\">Selecting elements visually is pretty cool and all. But once you start to build a serious workflow it is not enough.<br></p><p id=\">You also need:</p><ul id=\"><li id=\">Checking if elements are actually there</li><li id=\">Check for multiple elements to be there</li><li id=\">Check if either a element is there or another one is there<br></li></ul><p id=\">This is where <strong id=\"><em id=\">expect()</em></strong>, <strong id=\"><em id=\">and()</em></strong> and <strong id=\"><em id=\">or()</em></strong> get on stage to shine.<br></p><p id=\">But they are not always as intuitive to use as one might think.</p><p id=\">That is why this blog post will go into detail about all the common pitfalls - we know of - you can run into and how to avoid them.</p><h2 id=\"><strong id=\">How to Use expect()</strong></h2><p id=\">The usage of <strong id=\"><em id=\">expect()</em></strong> seems \"<em id=\">_simple_</em>\" and has the following structure for its syntax (<a href=\"https://docs.askui.com/docs/api/Actions/expect\" id=\">Check the full API docs</a>):</p><pre></pre><h2 id=\"><strong id=\">Pitfall 1 - Forgetting exists()/notExists() and/or exec()</strong></h2><p id=\">Correct usage of <strong id=\"><em id=\">expect()</em></strong> needs you to use <strong id=\"><em id=\">exists()</em></strong> or <strong id=\"><em id=\">notExists()</em></strong> and also conclude your instruction with <strong id=\"><em id=\">exec()</em></strong> like this:</p><pre></pre><p id=\">Something that happens often is that <strong id=\"><em id=\">expect()</em></strong> is used but <strong id=\"><em id=\">exists()/notExists()</em></strong> is missing. While this code compiles, the instruction does not lead to an execution that checks for the (non-)existence of an element:</p><pre></pre><p id=\">But even if you do add an <strong id=\"><em id=\">exists()|notExists()</em></strong> it still does not lead to an execution as the <strong id=\"><em id=\">exec()</em></strong> is missing:</p><pre></pre><p id=\">Because of this we implemented an <em id=\">ESLint</em> rule to check for the correct usage of <strong id=\"><em id=\">expect()</em></strong>, so you do not have to search for this two subtle bugs any more! The <em id=\">ESLint</em> rule is available with version <strong id=\"><em id=\">1.3.0</em></strong> of the npm-package <strong id=\"><em id=\">@askui/eslint-plugin-askui</em></strong> (Check <a href=\"https://www.npmjs.com/package/@askui/eslint-plugin-askui\" id=\">the README for more information</a>). It is shipped by default when a new AskUI project with version <strong id=\"><em id=\">0.18.0</em></strong> is initialized.</p><h2 id=\"><strong id=\">You can not use expect() with and() - What You Should Do Instead</strong></h2><p id=\">Intuitively you would think you can check if multiple elements exist with one instruction by using <strong id=\"><em id=\">and()</em></strong>:</p><pre></pre><p id=\">But this will always fail as you actually expect an element to have the text <strong id=\">Log in</strong> and the element to <strong id=\">also</strong> be a button with the text <strong id=\">Sign Up</strong> which can never be true.<br></p><p id=\">The solution to this problem is to use multiple <strong id=\"><em id=\">expect()</em></strong> instructions:</p><pre></pre><h2 id=\"><strong id=\">How to Use expect() Together With or()</strong></h2><p id=\">Checking if <strong id=\">at least</strong> one of multiple elements is on the screen works with <strong id=\"><em id=\">or()</em></strong>. In the following example we expect one of three buttons to be there:</p><pre></pre><h2 id=\"><strong id=\">Expect Fails but I Want to Continue the Workflow</strong></h2><p id=\">Sometimes you want to continue your workflow or do something if an element is not there. But when an <strong id=\"><em id=\">expect()</em></strong> fails it fails the whole workflow run by throwing an exception. You can work around this by using a <strong id=\"><em id=\">try/catch</em></strong>. In the <strong id=\"><em id=\">catch</em></strong>-block you define your recovery or alternative:</p><pre></pre><h2 id=\"><strong id=\">Conclusion</strong></h2><p id=\">AskUIs expressive syntax that nearly reads like natural language looks simple enough to write at first. But like with everything the key to success lies in the nuances.<br></p><p id=\">We hope you learned some of those regarding the <strong id=\"><em id=\">expect()</em></strong> command with this blog post. If not, we are more than happy to help you out in <a href=\"https://community.askui.com/\">our Community</a>.</p>",
  "category": "Academy",
  "readTime": "2 min read",
  "date": "2024-11-11",
  "publishedAt": "Mon Nov 11 2024 11:15:57 GMT+0000 (Coordinated Universal Time)",
  "author": "johannes-dienst",
  "image": "https://cdn.prod.website-files.com/6630f90ff7431b0c5b1bb0e7/671a54354acfb4a4f3ecd0a2_howtoexpect.webp",
  "featured": false
}