{
  "id": "custom_elements_in_askui",
  "slug": "custom-elements-in-askui",
  "title": "How to Use Custom Elements in AskUI",
  "excerpt": "Custom Element Selection is a feature in askui that enables you to create custom selectors for elements on the screen, instead of relying on the s....",
  "content": "<h2 id=\">Overview</h2>\n\n<p id=\"><a href=\"https://www.askui.com/blog-posts/get-started-with-the-ai-element\" id=\"><strong id=\">We highly recommend to use our AI Element instead of the Custom Element!</strong></a></p><p id=\"><strong id=\">Custom Element Selection</strong> is a feature in askui that enables you to create custom selectors for elements on the screen, instead of relying on the standard selectors provided such as <em id=\">Button, Textfield, etc.</em></p><p id=\">With this feature, you can define a custom selector based on how the element is displayed on the screen. This can be particularly useful in situations where standard selectors are unreliable due to the non-standard properties of the element. It provides greater flexibility and control, allowing you to tailor the automation to meet the specific needs of your application.</p><p id=\">Here we will demonstrate how to use a custom element to explore Google Street View.</p><h2 id=\">Demonstration</h2><div data-rt-embed-type='true'><div class=\"cookieconsent-optout-marketing\"> Please <a href=\"javascript:Cookiebot.renew()\">accept marketing-cookies</a> to watch this video. </div> <iframe width=\"560\" height=\"315\" data-cookieblock-src=\"https://www.youtube-nocookie.com/embed/M00BCweamDc\" data-cookieconsent=\"marketing\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe></div>\n\n<h2 id=\">Requirements</h2><ul id=\"><li id=\"><strong id=\">AskUI installed</strong> - (<a href=\"https://docs.askui.com/docs/general/Getting%20Started/Installing%20AskUI/getting-started\" id=\">Windows</a>, <a href=\"https://docs.askui.com/docs/general/Getting%20Started/Installing%20AskUI/getting-started-linux\" id=\">Linux</a>, <a href=\"https://docs.askui.com/docs/general/Getting%20Started/Installing%20AskUI/getting-started-macos\" id=\">macOS</a>)</li></ul><ul id=\"><li id=\"><strong id=\">Web Browser</strong> - We use Safari in this demonstration, but you can use any web browser you have.</li></ul><h2 id=\">Understanding the customElement() in askui</h2>\n\n<p id=\"><em id=\">customElement()</em> is an element to look for on the screen that is defined by the user with a given image.</p><pre></pre><h3 id=\">Arguments</h3><ul id=\"><li id=\"><strong id=\">customImage</strong> (<em id=\">string, required</em>): A cropped image in the form of a base64 string or file path.</li></ul><ul id=\"><li id=\"><strong id=\">name</strong> (<em id=\">string, optional</em>): A unique name that can be used for filtering for the custom element. If not given, any text inside the custom image will be detected via OCR.</li></ul><ul id=\"><li id=\"><strong id=\">threshold</strong> (<em id=\">number, optional</em>): A threshold for how much an UI element needs to be similar to the custom element as defined. Takes values between 0.0 (== all elements are recognized as the custom element which is probably not what you want) and 1.0 (== elements need to look exactly like defined by <em id=\">the customImage given above</em> which is unlikely to be achieved as even minor differences count). Defaults to 0.9.</li></ul><ul id=\"><li id=\"><strong id=\">rotationDegreePerStep</strong> (<em id=\">number, optional</em>): Step size in rotation degree. Rotates the custom image by this step size until 360Â° is exceeded. The range is from 0 to 360. Defaults to 0.</li><li id=\"><strong id=\">imageCompareFormat</strong> ('RGB' | 'grayscale', optional): The color compare style. 'greyscale' compares the brightness of each pixel whereas 'RGB' compares all three color. Defaults to 'grayscale'.</li></ul><h3 id=\">Two Things to be Aware of When Using customElement()</h3>\n\n<p id=\"><strong id=\">1) Create the Custom Image by Cropping it From The Actual Screen</strong></p><p id=\">To find a matching element from the screen, the custom image <strong id=\">must be the same as it is displayed on the screen.</strong> <em id=\">Same</em> in this sense includes the <strong id=\">size, rotation, </strong>and<strong id=\"> overlapping object</strong> if there are any</p><figure id=\" class=\"w-richtext-figure-type-image w-richtext-align-fullwidth\" style=\"max-width:2500px\" data-rt-type=\"image\" data-rt-align=\"fullwidth\" data-rt-max-width=\"2500px\"><div id=\"><img src=\"https://cdn.prod.website-files.com/6630f90ff7431b0c5b1bb0e7/6634d1b79cefb8a0923e20e0_63dbf1d3ce1ef677709b20d5_heart-match.jpeg\" loading=\"lazy\" id=\" width=\"auto\" height=\"auto\" alt=\"></div></figure><p id=\">Note the <strong id=\">left-bottom case</strong> of the illustration. A rotated element can be also matched, but <strong id=\">only if</strong> everything else except the rotation are staying the same as it is displayed on the screen. If you can assure that your custom image is exactly the same as it is displayed on the screen + if you know the degree of the rotation, then you could consider using the <strong id=\">rotationDegreePerStep</strong> parameter. And because askui will try to rotate the custom element for the whole revolution, a divisor of the rotated degree could be also used, e.g in the illustrated case, we can use not only 90 but also 45, 30, 15, etc. But since smaller degrees will require more iteration steps, it will increase the runtime by a notable amount.</p><p id=\"><strong id=\">The simplest way</strong> to accomplish it might be <strong id=\">to directly capture and crop the desired image from your screen.</strong> In Windows and macOS, you can use the built-in screen capture tool:</p>\n\n<ul id=\"><li id=\"><strong id=\">Windows:</strong> Press <em id=\">windows</em> + <em id=\">shift</em> + <em id=\">s</em> (Windows 10 or higher)</li><li id=\"><strong id=\">macOS:</strong> Press <em id=\">cmd</em> + <em id=\">shift</em> + <em id=\">4</em></li></ul>\n\n<p id=\">In both cases, you will be asked to select a certain portion of the screen. On Windows, the captured image will be stored in the clipboard, so you will need to save it to an image file. The image will be saved on the <em id=\">~/Desktop</em> by default on macOS.</p><p id=\"><strong id=\">2) The Time of the Execution will Increase by a Notable Amount</strong></p><p id=\">To examine whether the custom image matches the given screen, askui iterates through the whole pixels of the screen and the custom image. So it is likely to increase the runtime by a notable amount. Therefore, if the task could be accomplished with other filters such as <em id=\">button()</em> or <em id=\">text()</em>, then it's maybe better to avoid using the <em id=\">customElement()</em></p><h2 id=\">Capture the Custom Element</h2>\n\n<p id=\">In this demonstration, we will search for a certain area in <strong id=\">Google Street View</strong>. This can be enabled by pressing a button <strong id=\">at the right corner of </strong><a href=\"https://maps.google.com/\" id=\"><strong id=\">Google Maps</strong></a>:</p><figure id=\" class=\"w-richtext-figure-type-image w-richtext-align-center\" data-rt-type=\"image\" data-rt-align=\"center\" data-rt-max-width=\"><div id=\"><img src=\"https://cdn.prod.website-files.com/6630f90ff7431b0c5b1bb0e7/6634d1b79cefb8a0923e20e5_63dbf20c32f87e2644e9f2f5_google-ui.png\" loading=\"lazy\" id=\" width=\"auto\" height=\"auto\" alt=\"></div></figure><p id=\">Can you see the yellow tiny human in the corner? We need an image of this human figure to interact with it.</p><p id=\">Let's make a screen capture of it. It shall look like this:<br></p><figure id=\" class=\"w-richtext-figure-type-image w-richtext-align-center\" style=\"max-width:42px\" data-rt-type=\"image\" data-rt-align=\"center\" data-rt-max-width=\"42px\"><div id=\"><img src=\"https://cdn.prod.website-files.com/6630f90ff7431b0c5b1bb0e7/6634d1b79cefb8a0923e20ea_63dbf22ac633fb125f3ced9d_human.png\" loading=\"lazy\" id=\" width=\"auto\" height=\"auto\" alt=\"></div></figure><p id=\">Then save the image in your project's root directory with the name <em id=\">human-figure.png</em>. The file tree of your project's root directory will be like this:</p><pre></pre><h2 id=\">Write the AskUI Code</h2>\n\n<p id=\">If you are prepared with the image above, let's jump into our code:</p><pre></pre><p id=\">After successfully running the code, you will be able to see the landscape of <strong id=\">Machu Picchu</strong>, the most iconic citadel of the lost empire Inca.</p><p id=\">It is possible that you end up with a plain <strong id=\">Google Map</strong> without having <strong id=\">Street View</strong> enabled. It might be caused by various reasons, but the most likely scenario is due to the different resolutions of the screen (your display can have a different resolution than mine). You could try to <strong id=\">adjust the amount of the pixel offset</strong> that is given to the <strong id=\">moveMouseRelativelyTo()</strong>, for example, try with <strong id=\">moveMouseRelativelyTo(-5, -15)</strong>.</p><h2 id=\">Breaking Down the Code</h2><h3 id=\">1) Open the Web Browser and Go To the Desired Website</h3>\n\n<p id=\">One notable part of this procedure is the <strong id=\">waitFor()</strong> after each execution. We have used it in three different lines of this code block.</p><p id=\">Check out the respective parts and adjust the amount of time to wait until the process is finished. It may take more or less time depending on the condition of your device and internet connection:</p><pre></pre><p id=\">Also, don't forget to change the key to press and the name of the web browser based on your condition.</p><h3 id=\">2) Search for the Location</h3>\n\n<p id=\">Here we type our desired keyword into the textfield of Google Maps. As the textfield gets focused automatically, we can directly type in the keyword to the textfield:</p><pre></pre><p id=\">Note that we also press the <strong id=\"><em id=\">,</em></strong>(comma) key to hide the side panel of Google Maps. This is for hiding unnecessary information from the screen.</p><h2 id=\">Drag the Human Icon to the Desired Location</h2><ul id=\"><li id=\">Finally, we drag our human, which we defined as our <em id=\">Custom Element</em>, to the desired location.</li><li id=\">Firstly, we move the mouse cursor to our custom element.</li><li id=\">For dragging the mouse, we use the <strong id=\">mouseToggleDown()</strong> to <em id=\">press-and-hold</em> the mouse left button.</li><li id=\">After that, we move the mouse to the desired location.</li><li id=\">Thereafter, we use <strong id=\">mouseToggleUp()</strong> to <em id=\">release</em> the mouse button.</li></ul>\n\n<pre></pre><p id=\">Note the optional parameters for the <strong id=\">customElement()</strong>, especially the threshold that is set to <strong id=\">0.9</strong>.</p>\n\n<ul id=\"><li id=\">This parameter can be set from <strong id=\">0.0</strong> up to <strong id=\">1.0</strong>.</li><li id=\"><strong id=\">0.0</strong> will consider every element on the screen as matched with the given image.</li><li id=\"><strong id=\">1.0</strong> will examine the given elements as strictly as possible, so you might end up without any matching element found.</li></ul>\n\n<p id=\">So, the best scenario to set the threshold might be:</p>\n\n<ul id=\"><li id=\">Make the custom image to be as precise as possible (cropping from the screen).</li><li id=\">Keep the threshold relatively high, but below 1.0</li></ul><h2 id=\">Conclusion</h2>\n\n<p id=\">If you plan to program an automation where you have elements with non-standard properties, you might want to consider using the custom element feature of askui. But as mentioned above, keep in mind that, as a trade-off, it consumes more time than other features. Using a custom element to interact with the given UI can be a huge help, especially if the element lacks standard properties such as tag or appearance.</p><p id=\">If you got any issues while following this article, don't hesitate to ask for help in our <a href=\"https://askui.circle.so/getting-started\" id=\">Community!</a> We are more than glad to hear about your experience and help!</p>",
  "category": "Tutorial",
  "readTime": "6 min read",
  "date": "2024-10-24",
  "publishedAt": "Thu Oct 24 2024 10:43:53 GMT+0000 (Coordinated Universal Time)",
  "author": "johannes-dienst",
  "image": "https://cdn.prod.website-files.com/6630f90ff7431b0c5b1bb0e7/671a24c5dcabefada71c3f39_customelement.webp",
  "featured": false,
  "contentPath": "custom-elements-in-askui.md"
}