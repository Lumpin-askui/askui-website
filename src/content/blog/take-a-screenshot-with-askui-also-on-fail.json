{
  "id": "take_a_screenshot_with_askui_also_on_fail",
  "slug": "take-a-screenshot-with-askui-also-on-fail",
  "title": "Take a Screenshot with AskUI - Also on Fail!",
  "excerpt": "When you develop UI-Automations you often run into the problem that they fail inexplicably ðŸ˜¥. This leads to frustration and oftentimes stops the ....",
  "content": "<p id=\">When you develop UI-Automations you often run into the problem that they fail inexplicably ðŸ˜¥.</p><p id=\">This leads to frustration and oftentimes stops the effort entirely!</p><p id=\">We will show you how can level up your debugging skills by teaching you a way to take screenshots during an askui execution and when on fail of an execution.</p><p id=\">With this knowledge you can lower your frustration and become faster when developing UI-Workflows because you see what askui sees.</p><h2 id=\">Prerequisites</h2><ul id=\"><li id=\">AskUI installed: (<a href=\"https://docs.askui.com/docs/general/Getting%20Started/Installing%20AskUI/getting-started\" id=\">Windows</a>, <a href=\"https://docs.askui.com/docs/general/Getting%20Started/Installing%20AskUI/getting-started-linux\" id=\">Linux</a>, <a href=\"https://docs.askui.com/docs/general/Getting%20Started/Installing%20AskUI/getting-started-macos\" id=\">macOS</a>)</li></ul>\n\n<p id=\">That is it ðŸ˜‰</p><h2 id=\">Take a Screenshot with <em id=\">annotate()</em></h2>\n\n<p id=\">Do you want to know what askui <em id=\">sees</em> at a specific point in time when executing your code?</p><p id=\">Luckily the image can be obtained by using askuis built-in method <strong id=\">annotate()</strong> and a little bit of TypeScript.</p><p id=\">First you need to import the <strong id=\">fs</strong> module at the start of your automation file. You will use it to save the file to a specific place on your disc.</p><p id=\">After you called <strong id=\">annotate()</strong> you save the returned object into a variable. This object contains the image encoded in <strong id=\">base64</strong>.</p><p id=\">You can extract it with a <strong id=\">Buffer</strong> and write it to your disc with <strong id=\">fs.writeFileSync(&lt;path to file&gt;, buffer)</strong></p><pre></pre><h2 id=\">Take a Screenshot on Fail</h2>\n\n<p id=\">Normally you do not take a screenshot if nothing fails. But in case your UI-Automations fails at some point it is helpful to know <strong id=\">Why</strong> it might have failed. Was an element missing? Or was the UI just too slow to render?</p><p id=\">You can enable this behavior by enabling a setting in your <em id=\">askui UI Control Client</em>. For the default Jest setup, you have to go to the file <strong id=\">test/helper/jest.setup.ts</strong>.</p><p id=\">There you have to set <strong id=\">annotationLevel</strong> property of the <strong id=\">UiControlClient</strong> to <strong id=\">ON_FAILURE</strong> as shown in the following code:</p><pre></pre><p id=\">A more detailed explanation is documented in the <a href=\"https://docs.askui.com/docs/api/Configuration/askui-ui-control-client#annotationlevel\">API Docs of the askui UI Control Client</a>.</p><h2 id=\">Conclusion</h2>\n\n<p id=\">With these two methods you can see what askui sees at any given point of your UI-Automation. This will speed up your debugging.</p><h2 id=\">Get Support</h2>\n\n<p id=\">If you have a recurring or persisting issue, donâ€™t hesitate to ask the <a href=\"https://discord.gg/Gu35zMGxbx\" id=\">Discord community</a> for help!</p>",
  "category": "Tutorial",
  "readTime": "2 min read",
  "date": "2024-11-11",
  "publishedAt": "Mon Nov 11 2024 11:10:37 GMT+0000 (Coordinated Universal Time)",
  "author": "johannes-dienst",
  "image": "https://cdn.prod.website-files.com/6630f90ff7431b0c5b1bb0e7/6634d1c3d16724de6c0ba933_642d2a5efb24488ba224d4ed_pexels-pixabay-371829.jpeg",
  "featured": false,
  "contentPath": "take-a-screenshot-with-askui-also-on-fail.md"
}